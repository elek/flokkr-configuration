version: "2"
services:
   consul:
      image: progrium/consul
      network_mode: host
      command: "--server -join 192.168.50.11 -advertise 192.168.50.12"
   consulcompose:
      image: elek/consul-compose
      network_mode: host
      volumes:
         - "/var/run/docker.sock:/var/run/docker.sock"
      environment:
         CONSUL_COMPOSE_PATH: "conf/compose/node2.yaml"
         CONSUL_SERVER: "localhost:8500"
   logspout:
     image: gliderlabs/logspout
     network_mode: host
     volumes:
       - "/var/run/docker.sock:/var/run/docker.sock"
     environment:
       PORT: 2323
   weavescope:
     image: weaveworks/scope:1.3.0
     network_mode: host
     privileged: true
     network_mode: host
     volumes:
       - "/var/run/docker.sock:/var/run/docker.sock"
       - "/var/run/scope/plugins:/var/run/scope/plugins"
     environment:
        CHECKPOINT_DISABLE: "true"
     command: "--probe.docker=true 192.168.50.11 192.168.50.13"
